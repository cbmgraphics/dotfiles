Hw.prototype.aq=ea(43,g("reason"));y2a.prototype.aq=ea(42,g("C"));LD.prototype.aq=ea(41,function(){return T(this,2)});function Vke(a,b){Io(a.C,8192)?b():(Kp(a.oO,a.ma,function(){b()}),a.create())}function Wke(a){a.O=!0;return a}function p5(a){nf(this,a,0,-1,null,null)}w(p5,mf);p5.prototype.aq=function(){return F(this,1)};function Xke(a){nf(this,a,0,-1,null,null)}w(Xke,mf);function Yke(a){nf(this,a,0,-1,null,null)}w(Yke,mf);Yke.prototype.getId=function(){return F(this,1)};
Yke.prototype.We=function(a){G(this,1,a)};Yke.prototype.getType=function(){return F(this,2)};Yke.prototype.setType=function(a){G(this,2,a)};function Zke(a){nf(this,a,0,-1,null,null)}w(Zke,mf);function $ke(){try{return!!la.localStorage.getItem("docs-uoo")}catch(a){return!0}}function ale(a){a?la.localStorage.setItem("docs-wownoi","true"):la.localStorage.removeItem("docs-wownoi")}function ble(a){a?la.localStorage.setItem("docs-rops","true"):la.localStorage.removeItem("docs-rops")}
function cle(a){a?la.localStorage.setItem("docs-ropd","true"):la.localStorage.removeItem("docs-ropd")}function dle(a,b){this.u7=a;this.mM=b};function ele(a,b,c,d,e){y.call(this);this.Xa=a;this.H=b;this.O=d?d:"DefaultLocalStoreSessionId";this.L=e||new oNa;this.J=c;this.D=null;this.F=new Ip;this.xa(this.F);this.C=fle(this)}w(ele,y);function fle(a){a.C&&A(a.C);var b=ih(H(),"lssv");return new tNa(a.Xa,a.O,0,a.N1a.bind(a),b,!0,a.J,new mMa)}function gle(a){if(a.D)return a.D;a.D=hle(a);return Xe(a.D,function(b){a.m9();throw b;})}
function ile(a){return gle(a).then(function(a){return(new Qe(function(b,d){kIa(a.jP(),b,d)})).then(function(b){return 1==b.length&&b[0].getId()==jh(H(),"docs-offline-lsuid")?new dle(a,b[0]):null}.bind(this))}.bind(a))}p=ele.prototype;p.get=function(){return ile(this).then(function(a){if(!a)throw Error("Must be exactly one user and they must be the current user");return a.u7})};function hle(a){return(new Qe(function(a,c){af(this.C.create(this.m9.bind(this)),a,c)}.bind(a))).then(a.Jqb.bind(a))}
p.Jqb=function(a){var b=this;if(!a)throw Error("Got null localstore from the idb localstore factory.");if(this.H){var c=new aLa(a,this.H);this.xa(c)}CFa(a);Jp(this.F,a.C.C.H,function(){b.m9()});Jp(this.F,a.C.ma,function(){b.m9()});return a};p.m9=function(){A(this.C);this.C=fle(this);this.D=null};p.N1a=function(a){return HLa(this.L,a)};p.Ha=function(){A(this.C);ele.oa.Ha.call(this)};function jle(){return P('<div><div>Turn on offline to access files without an Internet connection.</div><div class="docs-offline-optindialog-short-disclaimer">Not recommended on public or shared computers. <a href="#" id="docs-offline-optindialog-disclaimer-link" tabindex="0" class="docs-offline-optindialog-disclaimer-link">Learn more</a></div><div id="docs-offline-optindialog-disclaimer" class="docs-offline-optindialog-disclaimer" style="display:none;" tabindex="0">Protect your files by enabling offline access only on personal computers or computers where you have a password protected account. Enabling offline access on public or shared computers can put your data at risk, since others may be able to view your synced Google documents, spreadsheets and presentations.</div></div>')}
;function kle(a){St.call(this);this.O=a;tt(this,"Turn on offline for all files?");a=new Bt;Gt(a,{key:"docs-offline-editor-enable-offline-dialog-cancel",caption:"Cancel"},!1,!0);Gt(a,{key:"docs-offline-editor-enable-offline-dialog-turnon",caption:"Turn on"},!0,!1);Et(this,a);Dt(this,!1);this.ai=this.Lr=!0;a=new R_c;ut(this,Ns(S_c(a,jle)));this.C=this.F=null}w(kle,St);
kle.prototype.Ia=function(){kle.oa.Ia.call(this);Lt(this,this.D.Hu);this.F=me(this.qa(),"docs-offline-optindialog-disclaimer-link");this.C=me(this.qa(),"docs-offline-optindialog-disclaimer");this.getHandler().V(this,"dialogselect",this.J).Kc(this.F,"click",this.L)};kle.prototype.J=function(a){"docs-offline-editor-enable-offline-dialog-turnon"==a.key&&this.O();this.setVisible(!1)};kle.prototype.L=function(){J(this.F,"docs-offline-optindialog-disclaimer-link-disabled");K(this.C,!0);this.C.focus()};function lle(a,b,c,d){E.call(this);this.F=a;this.va=b;this.L=c;this.O=new Tr(this.L,Sr(),this);this.Xa=d;this.H=Ve();this.D=this.C=null;this.J=!1}w(lle,E);lle.prototype.start=function(){var a=this;mle(this,"Initialization").then(function(){a.J=!0;a.H.resolve(null);a.O.V(VKa,a.ea).V(JKa,a.ma).V(MKa,a.R)},function(b){a.H.resolve(Ae(b))})};function nle(a){return a.H.C.then(function(a){if(null!=a)throw a;})}
lle.prototype.ea=function(a){a=yf(a,TKa,1);for(var b=0;b<a.length;b++){var c=a[b].mz(ZKa);if(c&&F(c,1)==this.F&&pf(c,3).includes(1)){ole(this,"Document data changed");break}}};lle.prototype.ma=function(a){F(a,1)==this.F&&ole(this,"Document available")};lle.prototype.R=function(){ole(this,"Offline disabled")};function ole(a,b){Xe(mle(a,b),function(b){ip(a.Xa,Ae(b))})}
function mle(a,b){return Xe(ple(a.va,[a.F]).then(function(b){var c=!1,e=!1;1==b.length&&(e=b[0],c=F(e,7),e=F(e,8));var f=b=!1;a.J&&(b=a.C!=c,f=a.D!=e);a.C=c;a.D=e;b&&a.dispatchEvent("wg");f&&a.dispatchEvent("xg")}),function(a){throw Be(a,{pinStatusUpdateReason:b});})};function qle(){E.call(this);this.C=3;this.D=null;this.H=!1;this.F=Ve()}w(qle,E);function rle(a){return a.F.C.then(function(a){if(null!=a)throw a;})}qle.prototype.YA=g("D");function sle(a,b,c){if((1==b||2==b)&&!c)throw Error("Eligibility must be provided when transitioning to ENABLED or DISABLED. New state: "+b);c&&(a.D=c);a.C=b;a.F.resolve(null);a.dispatchEvent("yg")}function tle(a){if(!a.D)return!1;a=a.D.aq();return 1==a||6==a};function ule(a,b,c,d,e,f,h,k,l,m){y.call(this);this.Ka=a;this.Ma=b;this.Ta=c;this.F=d;this.D=e;this.Xa=k;this.Da=new yr;this.La=new Pk(this);this.xa(this.La);this.Qa=a.C;this.ea=f;this.Wa=h;this.H=this.C=null;this.L=l;this.Na=m;this.O=vle(this,"Document now available offline");this.ma=vle(this,"Document no longer available offline");this.R=vle(this,"Could not change offline availability.");this.J=vle(this,"Could not enable offline access.");this.Fa=vle(this,"Making document available offline...");
this.va=vle(this,"Document will sync when you reconnect");this.Ra=vle(this,"Could not sync document.")}w(ule,y);function vle(a,b){return ou(a.L,b,void 0,!1,3E3,!1,void 0,!0)}p=ule.prototype;p.init=function(){var a=this;Ue([rle(this.D),nle(this.F)]).then(function(){(Wj(),Ph).subscribe("action",a.dFa,a);a.La.V(a.F,"wg",a.zub).V(a.F,"xg",a.Wsb).V(a.D,"yg",a.Ysb);wle(a);Ph.setVisible(C.product.Ue)},function(b){a.Xa.Mc(Ae(b))})};p.dFa=function(){xle(this)};
function xle(a){PJa(a.Da).then(function(){if(sr()){if(1==a.D.C)return yle(a);tle(a.D)?zle(a):Ale(a,a.J)}else{a.H&&a.H.setVisible(!1);var b=Gt(Gt(new Bt,{key:"ok",caption:"Install"},!0),Jt,!1,!0),c=a.ea,d=RZc("Extension needed","To make this document available offline, install the Docs Offline Chrome extension to your browser.",a.E4a,null,a,void 0,b,void 0);c.Bh(d);d.focus();a.H=d;Lt(a.H,b.Hu)}})}
p.E4a=function(){var a=this;this.Da.install().then(function(b){b&&xle(a)},function(b){b=Ae(b);a.Xa.Mc(b);nJa(b)})};function yle(a){var b=!(Wj(),Ph).Gd();b&&!a.F.D&&Ale(a,a.Na.oh()?a.Fa:a.va);return Xe((new Qe(function(b){Vke(a.Qa,b)})).then(function(){return Ble(a,b)}).then(function(b){b||Ale(a,a.Ra)}),function(b){Ale(a,a.R);a.Xa.log(Ae(b))})}function Cle(a){Xe(Dle(a.Wa),function(b){a.Xa.log(Ae(b))}).then(function(){if(1==a.D.C)return yle(a);Ale(a,a.J)})}
function zle(a){a.C||(a.C=new kle(function(){return Cle(a)}),a.ea.Bh(a.C),a.La.V(a.C,"hide",function(){a.C=null}),a.C.setVisible(!0))}function Ble(a,b){var c=new Yke;c.We(a.Ka.F);c.setType(a.Ma);return Ele(a.Ta,[c],b).then(function(a){return a?F(a,1):!0})}p.zub=function(){wle(this);Fle(this);this.F.C||Ale(this,this.ma)};p.Wsb=function(){Fle(this)};p.Ysb=function(){wle(this)};function Fle(a){1==a.D.C&&a.F.D&&a.F.C&&Ale(a,a.O)}
function Ale(a,b){a.O.setVisible(!1);a.ma.setVisible(!1);a.R.setVisible(!1);a.J.setVisible(!1);a.Fa.setVisible(!1);a.va.setVisible(!1);b.sb()||b.render();b.setVisible(!0)}function wle(a){(Wj(),Ph).Pa(1==a.D.C||tle(a.D));Ph.Yb(a.F.C)}p.Ha=function(){(Wj(),Ph).unsubscribe("action",this.dFa,this);this.C&&(rv(this.ea,this.C),A(this.C));this.H&&(rv(this.ea,this.H),A(this.H));ule.oa.Ha.call(this);qu(this.L,this.O);qu(this.L,this.ma);qu(this.L,this.R);qu(this.L,this.J);wb(this.O,this.ma,this.R,this.J)};function Gle(a){this.D=a}Gle.prototype.C=function(a){var b=new m1c;n1c(b,a.serialize());this.D.log(b);this.D.H()};function Hle(a){this.D=a}Hle.prototype.C=function(a){var b=new m1c;n1c(b,a.serialize());this.D.log(b);return new Qe(function(a,b){this.D.flush(a,b)}.bind(this))};function Ile(a){this.D=a}Ile.prototype.C=function(a,b,c){ile(this.D).then(u(function(d){d?(new YAc(d.u7,"offline",null)).C(a,b,c):b()},this))};function Jle(a,b,c){a='<div><div id="docs-offline-optinpromo-title">You\'re all set</div><div id="docs-offline-optinpromo-description">Your work will sync once you\'re online again. Then you\'ll be able to keep editing offline. Sweet.</div><div class="docs-offline-optinpromo-confirm-buttons">'+O(Nt({id:"docs-offline-optinpromo-confirm-close",content:$s("Close")},c||b));return P(a+"</div></div>")};function Kle(a){E.call(this);this.bb=a||Ed();this.La=new Pk(this);this.xa(this.La);this.C=new it(a);this.C.Pz(!1);Tn(this.C.D,!1);this.C.Bd("docs-offline-optinpromo");this.C.render();a=this.C.Oa();ge(a,!0);Ck(a,"dialog");Dk(a,"labelledby","docs-offline-optinpromo-title");Dk(a,"describedby","docs-offline-optinpromo-description");this.xa(this.C);this.L=new Ot(null);this.xa(this.L);this.J=new Ot(null);this.xa(this.J);this.H=new Ot(null);this.xa(this.H);this.O=this.F=this.D=null;Lle(this,Mle)}w(Kle,E);
function Mle(a,b,c){b=c||b;a='<div><div id="docs-offline-optinpromo-title">Work offline and don\'t miss a beat</div><div id="docs-offline-optinpromo-description"><div>Access your Docs, Sheets and Slides files when you\'re offline, or your internet connection isn\'t great.</div><div class="docs-offline-optinpromo-notice">Not recommended on public or shared computers. <a href="#" id="docs-offline-optinpromo-link-learn-more">Learn More</a><a href="#" id="docs-offline-optinpromo-link-show-less" style="display: none">Show less</a></div></div><div id="docs-offline-optinpromo-learn-more-container" style="display: none" tabindex="0"><hr>Protect your Google Drive by enabling offline access only on personal computers or computers where you have a password protected account. Enabling offline access on public or shared computers can put your data at risk, since others may be able to view your synced Google documents, spreadsheets and presentations.<hr></div><br>'+
O(Nt({id:"docs-offline-optinpromo-optin",content:$s("Turn on offline access"),style:2},b));a+=O(Nt({id:"docs-offline-optinpromo-decline",content:$s("No thanks"),style:0},b));return P(a+"</div>")}
function Lle(a,b){var c=N(b);a.C.setContent(c);switch(b){case Mle:a.La.V(a.C,"show",a.Nub);b=a.bb.getElement("docs-offline-optinpromo-optin");a.L.Va(b);a.La.Kc(a.L,"action",u(a.vtb,a));b=a.bb.getElement("docs-offline-optinpromo-decline");a.J.Va(b);a.La.Kc(a.J,"action",u(a.Dkb,a));a.D=a.bb.getElement("docs-offline-optinpromo-link-learn-more");a.F=a.bb.getElement("docs-offline-optinpromo-link-show-less");a.O=a.bb.getElement("docs-offline-optinpromo-learn-more-container");a.La.V(a.D,"click",u(a.bOa,
a,!0)).V(a.F,"click",u(a.bOa,a,!1));break;case Jle:b=a.bb.getElement("docs-offline-optinpromo-confirm-close");a.H.Va(b);a.La.Kc(a.H,"action",u(a.show,a,!1));a.C.Oa().focus();break;default:throw Error("Cannot handle state "+b);}a.bb.getElement("docs-offline-optinpromo-title");a.bb.getElement("docs-offline-optinpromo-description")}p=Kle.prototype;p.bOa=function(a){K(this.D,!a);K(this.F,a);K(this.O,a);(a?this.F:this.D).focus();return!1};p.vtb=function(){this.dispatchEvent(new D("Ag"))};p.Dkb=function(){this.dispatchEvent(new D("Bg"))};
p.show=function(a){this.C.setVisible(a);a||this.dispatchEvent(new D("Cg"))};p.Nub=function(){this.C.Oa().focus();this.dispatchEvent(new D("zg"))};function Nle(a,b){this.L=a;this.H=b}function Ole(a){return Ple(a).then(a.C.bind(a)).then(a.D.bind(a)).then(a.F.bind(a)).then(function(){var a=new p5;G(a,1,1);return a},a.J.bind(a))}Nle.prototype.J=function(a){if(a instanceof p5)return a;if(a instanceof Error)throw a;throw Error(a);};
function Ple(a){var b=new p5;return a.L.get().then(function(a){var c=a.C;switch(c){case 3:case 2:return Se();case 4:return G(b,1,3),G(b,2,a.D),Te(b);case 1:return G(b,1,2),Te(b);case 5:return G(b,1,4),Te(b);default:throw Error("Unexpected enabled state: "+c);}})}Nle.prototype.D=function(){return(new Qe(function(a,b){this.H.C(a,b)}.bind(this))).then(function(a){if(a)return Se();a=new p5;G(a,1,5);return Te(a)})};Nle.prototype.C=function(){if(sr())return Se();var a=new p5;G(a,1,6);return Te(a)};
Nle.prototype.F=function(){var a=ih(H(),"docs-offline-mrs");if(!a)throw Error("missing minRequiredSpace information");return new Qe(function(b,c){ybb(function(d,e){e>a?b():(d=new p5,G(d,1,7),G(d,3,a),G(d,4,e),c(d))},c)})};function Qle(a,b,c){this.C=a;this.D=c||null};function Rle(a,b){this.C=a;this.Xa=b}Rle.prototype.get=function(){return ile(this.C).then(function(a){return a?new Qle(1,a.mM.getId(),a.mM.XE(),Sle(this)):gle(this.C).then(function(a){return(new Qe(function(b,d){kIa(a.jP(),b,d)})).then(function(a){if(a.length)if(1==a.length)a=a[0],a=new Qle(4,a.getId(),a.XE());else throw Error("More than one user in store: "+a.length);else a=$ke()?new Qle(2):oLa()?new Qle(5):new Qle(3);return a}.bind(this))}.bind(this))}.bind(this))};
function Sle(a){a=new gcb(a.Xa);var b=H(),c=I(b,"docs-dbsw"),d=[];c&&I(b,"docs-offline-esmst")&&d.push(new Mx("metadata-sync",0,!0,new Lx(1,Mo(),Ox("metadata"),3E5,!0,!0)));c&&I(b,"docs-offline-esbst")&&d.push(new Mx("service-worker-update",0,!0,new Lx(2,Pya(),Ox("service_worker_update"),3E5,!0,!1)),P9a());I(b,"docs-offline-edswut")&&d.push(new Mx("drive-service-worker",0,!0,new Lx(2,Qya(jh(H(),"drdn"),"/drive/serviceworker/update",!0),Ox("drive_service_worker_update"),3E5,!0,!0)));I(b,"docs-offline-eshcst")&&
d.push(new Mx("homescreen-cello-sync",ih(H(),"docs-offline-scstpim"),!0,new Lx(2,Qya(fo(la.location.href),"/document/backgroundsync"),new Nx,3E5,!0,!0)));I(b,"docs-offline-esdcst")&&d.push(new Mx("drive-cello-sync",ih(H(),"docs-offline-scstpim"),!0,new Lx(2,Qya(jh(H(),"drdn"),"/drive/_/dataservice/backgroundsync",!0),new Nx,3E5,!0,!0)));c&&I(b,"docs-offline-eslcst")&&d.push(new Mx("local-changes-sync",0,!1,new Lx(1,Mo(),Ox("local_changes_sync"),3E5,!0,!1)));c&&I(b,"docs-offline-esast")&&!I(b,"docs-offline-eoasks")&&
d.push(new Mx("auto-sync",ih(H(),"docs-offline-sastpim"),!1,new Lx(1,Mo(),Ox("auto_sync"),3E5,!0,!0)));c&&I(b,"docs-offline-eswst")&&d.push(new Mx("webfonts-sync",0,!0,new Lx(1,Mo(),Ox("webfonts_sync"),3E5,!0,!0)));c&&I(b,"docs-offline-esist")&&d.push(new Mx("impression-sync",0,!1,new Lx(1,Mo(),Ox("impressionSync"),3E5,!0,!1)));c&&I(b,"docs-offline-esddt")&&d.push(new Mx("document-deletion",0,!1,new Lx(1,Mo(),Ox("doc_deletion"),3E5,!1,!1)));c&&I(b,"docs-offline-esuuct")&&d.push(new Mx("update-unsaved-changes",
0,!1,new Lx(2,Pya(),Ox("update_unsaved_changes"),3E5,!1,!1)));c&&I(b,"docs-offline-esct")&&d.push(new Mx("cleanup-task",0,!1,new Lx(2,Pya(),Ox("cleanup"),3E5,!1,!1)));c&&I(b,"docs-offline-esrt")&&d.push(new Mx("report-task",0,!1,new Lx(2,Pya(),Ox("report"),3E5,!1,!1)));c&&I(b,"docs-offline-eskst")&&d.push(new Mx("kix-snapshot",0,!1,new Lx(1,Qya(fo(la.location.href),"/document/snapshot.js"),new Nx,3E5,!1,!1)));c&&I(b,"docs-offline-esost")&&d.push(new Mx("sync-objects-sync",0,!0,new Lx(1,Mo(),Ox("sync_objects_sync"),
3E5,!0,!0)));b=[];for(c=0;c<d.length;c++){var e=d[c];e.C&&b.push(e)}for(d=0;d<b.length;d++)if(c=Obb(a,b[d].getId()),!c||!sf(c,5,!1))return!1;return!0};function Tle(a){this.C=a}function Ule(a,b){var c=(c=a.C.getItem("optInLog"))?JSON.parse(c):[];c.push({email:b,timestamp:Ea()});a.C.setItem("optInLog",Lo(c))}function Vle(){var a=la.localStorage;if(!a)throw Error("Local storage not available");return new Tle(a)};function Wle(a,b,c){this.H=a;this.C=[8];this.F=b;this.D=c}function Xle(a){return gle(a.H).then(function(a){return Yle(this,a).then(function(){var b=FNa();if(!b)throw Error("Missing user info for enabling offline in flags.");return Zle(this,a,b)}.bind(this))}.bind(a)).then(function(a){return $le(this,a)}.bind(a))}function Yle(a,b){return(new Qe(function(a,d){kIa(b.jP(),a,d)}.bind(a))).then(function(a){if(a&&a.length)throw Error("Aborting opt-in because there is another user in LocalStorage.");})}
function Zle(a,b,c){var d=new lFa(F(c,1),!0);mFa(d,c.XE());nFa(d,F(c,3));oFa(d,!!F(c,4));pFa(d,!!F(c,6));fq(d,"optInReasons",a.C);return(new Qe(function(a,c){b.write([d],a,c)}.bind(a))).then(function(){return d})}
function $le(a,b){Ule(Vle(),b.XE()||"");la.localStorage&&(la.localStorage.removeItem("docs-uoo"),la.localStorage.setItem("docs-oiouid",b.getId()));b=new Er;var c=new KKa;lga(b,Gr,c);$Ka(a.F,b);b=new yr;var d=new GNa(b);return LJa(b).then(function(){return new Qe(function(a,b){d.C(a,b)})}.bind(a)).then(function(a){var b=HNa(),c=new vwa;this.C[0]&&G(c,1,dIa(this.C[0]));G(c,10,a);G(c,11,b);a=this.D.vz(81E3,0);b=IU(a);zf(b,34,c);this.D.wz(a)}.bind(a))};function ame(a,b,c,d,e,f,h){y.call(this);this.bb=h||Ed();this.D=a;this.Xa=b;this.H=c;this.cb=d;a=new NNa;this.xa(a);this.F=new Hr(a,Sr());this.xa(this.F);this.Ka=new Tr(this.F,Sr(),this);this.xa(this.Ka);this.Da=new Tr(this.F,null,this);this.xa(this.Da);this.L=new ele(this.Xa,this.F,e,"OfflinePromoControllerLockSessionId");this.xa(this.L);e=new Rle(this.L,this.Xa);a=new yr;this.Za=new Nle(e,new GNa(a));e=this.L;b=H();a=I(b,"docs-offline-ecpl")?"https://jmt17.google.com/log":void 0;b=jh(b,"gaia_session_id");
a=new ead(306,b||null,a,!(Aa(la)&&la.window==la)||!la.document||!la.document.documentElement,!0);b=new Hle(a);e=C.product.Ue&&nMa&&(LNa()||MNa())?new Ile(e):new XAc;e=new VAc(b,null,e);a=new Gle(a);b=MMa();e=OAc(NAc(Wke(LAc(KAc(new JAc,e),a)),b),84).build();a=HAc(e.$B());b=(new UAc(!1)).get();a.H=b;this.Na=e;this.Na.jG();this.Qa=Xr(this.bb);this.C=null;this.La=new Pk(this);this.xa(this.La);this.R=new Ip;this.xa(this.R);this.ea=new lm(this.gob,6E4,this);this.xa(this.ea);this.Ra=!1;this.ma=this.J=null;
this.Fa=mr.getInstance();this.O=this.Ta=!1;this.va=C.product.Ue&&C.product.wg("56.0.2924.87");this.Ma=!1;this.Wa=f}w(ame,y);p=ame.prototype;p.init=function(){var a=this;sr()&&(bme(this),cme(this),q5(this).then(function(){dme(a)},function(b){a.Xa.Mc(Ae(b))}))};function dme(a){a.F.connect();Jp(a.R,a.D.EJ(),function(){a.ea.start();q5(a)});Jp(a.R,a.D.GJ(),function(){a.ea.stop();bme(a);cme(a);q5(a)});a.La.V(a.Qa,"change",a.H4a);a.Ka.V(Gr,a.G4a);a.Da.V(Gr,a.F4a).V(OKa,a.Dgb)}
function q5(a){return Ole(a.Za).then(function(b){var c=1==b.aq(),d=a.D.oh(),e;if(!(e=a.O)&&(e=!$ke())){try{var f=!!la.localStorage.getItem("docs-urop")}catch(k){f=!0}e=!f}f=I(H(),"promo_show_on_load");if((c=c&&a.va&&e)&&!(c=!d)){try{var h=!!la.localStorage.getItem("docs-wownoi")}catch(k){h=!1}c=h&&!f}h=c;a.Ta||(h?a.C||(a.C=new Kle(a.bb),a.xa(a.C),a.La.V(a.C,"Ag",a.wtb).V(a.C,"Bg",a.stb).V(a.C,"Cg",a.K2a),a.C.show(!0),eme(a)):a.C&&a.C.show(!1));if(a.cb)if(2==b.aq()||d||h)fme(a);else if(a.ma&&!Df(b,
a.ma)&&fme(a),null==a.J){d=gme(b);if(!a.Ma)switch(b.aq()){case 1:break;case 3:hme(a,"Offline ineligible, other user enabled");break;case 7:hme(a,"Offline ineligible, insufficient disk space");break;case 5:hme(a,"Offline ineligible, policy disallows");break;case 6:hme(a,"Offline ineligible, no extension");break;case 4:hme(a,"Offline ineligible, invalid db state");break;default:hme(a,"Offline ineligible, unknown reason")}b=1==b.aq()&&a.va?pr(d,"Turn on...",a.kvb.bind(a),"info",!1):or(d,"info",!1);a.J=
a.Fa.postMessage(b)}})}p.gob=function(){nLa()||ale(!0)};
p.xtb=function(){if(this.D.oh()){var a=jh(H(),"docs-offline-hsu");var b="<div>";a="The next time you're offline, just visit "+('<a href="//'+Q(a)+'">'+(O(a)+("</a> to create and edit without interruption. "+('<a href="'+Q(ft("https://support.google.com/docs/answer/2375012?hl=en"))+'">Learn more</a>'))));b=P(b+a+'</div><img class="doc-offline-welcomepromo-img" src="//ssl.gstatic.com/images/icons/material/system/2x/cloud_download_googblue_36dp.png">');b=ZRa("Your documents are syncing",Ns(b),void 0,
this,"Got it","docs-offline-welcomepromo",this.bb);J(b.Oq(),"docs-offline-welcomepromo-bg");this.xa(b);this.C&&this.C.show(!1)}else this.Ta=!0,Lle(this.C,Jle);q5(this)};p.G4a=function(){q5(this)};p.F4a=function(){q5(this)};p.Dgb=function(){this.O=!1;q5(this)};p.utb=function(a){this.Xa.Mc(a instanceof Error?a:Error(a?"Opt-in error: "+a:"Unknown opt-in error"));a=ou(this.Wa,"Turning on offline access failed. Please try again later.",this.bb);a.D=!0;a.render();a.setVisible(!0);this.xa(a)};
p.wtb=function(){this.H.C(2054);ale(!1);Xle(new Wle(this.L,this.F,this.Na)).then(u(this.xtb,this),u(this.utb,this))};p.stb=function(){this.D.oh()?this.H.C(2055):cle(!0);ale(!1);la.localStorage.setItem("docs-urop","true");this.O=!1;q5(this);var a=new Er,b=new NKa;lga(a,OKa,b);$Ka(this.F,a)};
function gme(a){switch(a.aq()){case 1:return"To edit offline, turn on offline sync.";case 3:return"You cannot edit offline because offline sync is enabled for another user, "+(F(a,2)+".");case 7:return"There is insufficient storage space on your device to turn on offline sync.";case 5:return"Offline sync is disabled by your administrator.";default:return"To edit offline, turn on offline sync when you reconnect."}}
function hme(a,b){var c={};c.offlineIssueReason=b;c.offlineIssueType="OFFLINE_EDITING_BLOCKED_OFFLINE_DISABLED";ip(a.Xa,Error("Offline editing disabled: "+b),c);a.Ma=!0}function fme(a){null!=a.J&&(nr(a.Fa,a.J),a.J=null,a.ma=null)}p.kvb=function(){this.O=!0;q5(this)};p.H4a=function(){eme(this)};p.K2a=function(){A(this.C);this.C=null};function eme(a){!a.Ra&&a.C&&"hidden"!=a.Qa.getState()&&(a.D.oh()?a.H.C(2847):ble(!0),a.Ra=!0)}
function bme(a){try{var b=!!la.localStorage.getItem("docs-rops")}catch(c){b=!1}b&&a.D.oh()&&(ble(!1),a.H.C(2847))}function cme(a){try{var b=!!la.localStorage.getItem("docs-ropd")}catch(c){b=!1}b&&a.D.oh()&&(cle(!1),a.H.C(2055))};function ime(a,b,c){y.call(this);this.C=a;this.Ta=c;this.J=new Ip;this.xa(this.J);this.Fa=new Tr(b,Sr(),this);this.xa(this.Fa);this.La=new Pk(this);this.xa(this.La);this.D=Xr();this.xa(this.D);this.L=!1;this.Da=I(H(),"docs-offline-eraoi");this.Na=I(H(),"docs-offline-eeooip");this.va=I(H(),"docs-offline-eiid");this.Qa=new yr;this.ea=null;this.ma=this.O=this.R=!1;this.H=new lm(this.Ma,Math.floor(27E4*Math.random())+3E4,this);this.xa(this.H);this.F=[]}r(ime,y);
ime.prototype.init=function(){var a=this;(this.Da||this.Na)&&this.Fa.V(Gr,this.Ra);this.va&&(jme(this).then(function(b){a.ea=b}),this.La.V(this.D,"change",this.Ka));this.F.push(new kme("reload-after-opt-in","Reload to allow offline editing.","docs-offline-reload-after-opt-in-butter-dismiss"));this.F.push(new kme("reload-after-extension-installation","The Docs Offline extension has been enabled. Reload to take effect.","docs-offline-reload-after-installation-butter-dismiss"))};
function lme(a){a.ma||(Jp(a.J,a.C.EJ(),function(){return mme(a)}),Jp(a.J,a.C.GJ(),function(){return mme(a)}),a.va||a.La.V(a.D,"change",a.Ka),a.ma=!0)}ime.prototype.Ra=function(){this.L||(this.L=!0,lme(this),this.Da&&("visible"==this.D.getState()||this.H.yb()||this.H.start()),mme(this))};
function mme(a){var b=!1;a.F.forEach(function(c){var d;if(d=!b){d=!1;switch(c.L){case "reload-after-opt-in":d=a.L&&a.C.oh();break;case "reload-after-extension-installation":d=a.R&&a.C.oh()}d=d&&!c.F}d?(nme(c),b=!0):null!=c.C&&(nr(c.H,c.C),c.C=null)})}ime.prototype.Ma=function(){this.O||!this.C.oh()||Io(this.Ta.cP(),256)||la.location.reload()};
ime.prototype.Ka=function(){var a=this,b="visible"==this.D.getState();this.O||(this.O=b&&this.F.some(function(a){return null!=a.C}));b&&0==this.ea&&!this.R&&jme(this).then(function(b){b&&(a.R=!0,lme(a),mme(a))})};function jme(a){return PJa(a.Qa).then(function(){return sr()})}
function kme(a,b,c){y.call(this);var d=this;this.L=a;this.J=b;this.F=!1;this.C=null;this.H=mr.getInstance();this.D=new xe(c);this.xa(this.D);this.D.setProperty("label","Dismiss");this.D.Pa(!0);this.D.wb(Oa,function(){d.F=!0})}r(kme,y);function nme(a){null==a.C&&(a.C=a.H.postMessage(pr(a.J,"Reload",function(){la.location.reload()},"info",!0,void 0,a.D)))};function ome(a,b,c,d,e,f,h){y.call(this);this.D=b;this.J=Ve();pme(this);this.F=this.H=null;this.O=a;this.C=c;this.La=new Pk(this);this.xa(this.La);this.L=new Ip;this.xa(this.L);this.R=d;this.ea=e;this.va=f;this.ma=h}w(ome,y);p=ome.prototype;p.start=function(){var a=this;qme(this.D).then(function(b){b.connect();a.J.resolve(b);return rme(a)}).then(function(){Jp(a.L,a.O.GJ(),function(){sme(a)})},function(b){b=Ae(b);a.C.F.resolve(b)})};
function Dle(a){if(2!=a.C.C)throw Error("Cannot enable offline when it is not disabled. Current state:"+a.C.C);sle(a.C,4);return tme(a.D,10).then(function(a){var b=a.aq();return Se().then(function(){return 1==b||2==b?r5(this,1):r5(this,2)}.bind(this)).then(function(){return a})}.bind(a))}p.YA=function(){return this.D.YA()};
function rme(a){return a.D.H().then(function(b){switch(F(b,1)){case 1:return ume(a.D).then(function(){return r5(this,1)}.bind(a)).then(function(){sme(this)}.bind(a));case 2:return r5(a,2);case 4:return vme(a,F(b,2));case 3:return b=F(b,3),null!=b?wme(a,b):r5(a,2);case 5:return xme(a)}})}p.lAb=function(a){1==this.C.C&&!this.C.H&&0==F(a,2)&&Xe(this.D.H().then(function(a){var b=this.C;a=F(a,5);b.H=a;b.dispatchEvent("yg")}.bind(this)),ba().bind(this))};function vme(a){return r5(a,2)}
function wme(a,b){return a.ea?tme(a.D,b).then(function(a){switch(a.aq()){case 1:return r5(this,1);case 2:return r5(this,1);default:return r5(this,2)}}.bind(a)):Se()}function xme(a){return a.va?tme(a.D,2).then(function(a){switch(a.aq()){case 1:case 2:return r5(this,1);default:return r5(this,2)}}.bind(a)):Se()}
function pme(a){a.J.C.then(function(a){this.H=new Tr(a,"user_"+this.R,this);this.xa(this.H);this.F=new Tr(a,null,this);this.xa(this.F);this.H.V(Gr,this.J4a).V(MKa,this.Nsb).V(QKa,this.lAb);this.F.V(Gr,this.I4a).V(MKa,this.Cgb)}.bind(a))}p.J4a=function(){Xe(r5(this,1),ba().bind(this))};p.Nsb=function(){Xe(r5(this,2),ba().bind(this))};p.I4a=function(){yme(this)};p.Cgb=function(){yme(this)};
function r5(a,b){return a.YA().then(function(a){sle(this.C,b,a)}.bind(a)).then(function(){return this.D.H().then(function(a){var b=this.C;a=F(a,5);b.H=a;b.dispatchEvent("yg")}.bind(this))}.bind(a)).then(ba().bind(a))}function yme(a){a.YA().then(function(a){var b=this.C;b.D=a;b.dispatchEvent("yg")}.bind(a))}function sme(a){a.ma&&1==a.C.C&&Xe(zme(a.D),ba().bind(a))};function Ame(a){this.D=a}Ame.prototype.C=g("D");function s5(a){nf(this,a,0,-1,null,null)}w(s5,mf);s5.prototype.getType=function(){return F(this,1)};s5.prototype.setType=function(a){G(this,1,a)};function Bme(a){nf(this,a,0,-1,null,null)}w(Bme,mf);Bme.prototype.getType=function(){return F(this,1)};Bme.prototype.setType=function(a){G(this,1,a)};Bme.prototype.wJ=function(){return xf(this,Cme,2)};function Cme(a){nf(this,a,0,-1,null,null)}w(Cme,mf);Cme.prototype.getType=function(){return F(this,1)};Cme.prototype.setType=function(a){G(this,1,a)};
Cme.prototype.getErrorMessage=function(){return F(this,2)};function Dme(a){nf(this,a,0,-1,Eme,null)}w(Dme,mf);var Eme=[1];function Fme(a){nf(this,a,0,-1,Gme,null)}w(Fme,mf);var Gme=[1];function Hme(a){nf(this,a,0,-1,null,null)}w(Hme,mf);Hme.prototype.H=function(){return xf(this,Xke,1)};function Ime(a){nf(this,a,0,-1,null,null)}w(Ime,mf);Ime.prototype.YA=function(){return xf(this,p5,1)};function Jme(a){nf(this,a,0,-1,null,null)}w(Jme,mf);function Kme(a){nf(this,a,0,-1,null,null)}w(Kme,mf);
Kme.prototype.YA=function(){return xf(this,p5,1)};function Lme(a){nf(this,a,0,-1,null,null)}w(Lme,mf);Lme.prototype.getId=function(){return F(this,1)};Lme.prototype.We=function(a){G(this,1,a)};Lme.prototype.getTitle=function(){return F(this,2)};Lme.prototype.Zp=function(){return F(this,3)};function Mme(a){nf(this,a,0,-1,Nme,null)}w(Mme,mf);var Nme=[1];function Ome(a){nf(this,a,0,-1,null,null)}w(Ome,mf);function Pme(a,b,c,d){y.call(this);this.F=Ve();this.bb=d||Ed();this.La=new Pk(this);this.xa(this.La);this.J=a;a=new ro(b);a.hc("ouid",this.J);Rya()&&a.hc("Debug","true");xo(a,"cd="+c);if(Hb(a.C))throw Error("Url contains invalid domain: "+b);this.L=uo(to(so(new ro,a.H),a.C),a.J).toString();this.C=this.bb.Ca("IFRAME",{style:"display:none"});Zca(this.C,wr(a.toString()));this.La.V(pe(this.bb),"message",this.O);this.bb.ub().body.appendChild(this.C);this.D=!1}w(Pme,y);
function qme(a){var b=new s5;b.setType(1);return t5(a,b).then(function(a){a=new Hr(new Ame(a.port),"user_"+this.J);this.xa(a);return a}.bind(a))}function ple(a,b){var c=new s5;c.setType(2);var d=new Dme;G(d,1,b||[]);zf(c,2,d);return t5(a,c).then(function(a){return yf(xf(a.response,Fme,3),Lme,1)}.bind(a))}Pme.prototype.H=function(){var a=new s5;a.setType(4);return t5(this,a).then(function(a){return xf(a.response,Hme,4).H()}.bind(this))};
Pme.prototype.YA=function(){var a=new s5;a.setType(10);return t5(this,a).then(function(a){return xf(a.response,Ime,7).YA()}.bind(this))};function Ele(a,b,c){var d=!0;d=void 0===d?!1:d;var e=new s5;e.setType(5);var f=new Mme;Af(f,1,b);G(f,2,c);G(f,3,d);zf(e,3,f);return t5(a,e).then(function(a){return(a=xf(a.response,Ome,8))&&xf(a,Zke,1)||null})}function tme(a,b){var c=new s5;c.setType(6);var d=new Jme;G(d,1,b);zf(c,4,d);return t5(a,c).then(function(a){return xf(a.response,Kme,5).YA()})}
function ume(a){var b=new s5;b.setType(9);return t5(a,b).then(ba())}function zme(a){var b=new s5;b.setType(11);return t5(a,b).then(ba())}
function t5(a,b){return a.F.C.then(function(a){var c=Ea(),e=new MessageChannel;a.postMessage(b.Lf(),[e.port2]);var f=Ve();e.port1.onmessage=u(function(a){a=new Qme(a);a.response&&a.response.wJ()?(a=a.response.wJ(),f.reject(Error("Iframe api request of type "+b.getType()+" failed (error type "+a.getType()+"): "+a.getErrorMessage()))):f.resolve(a)},this);var h=gm(function(){f.reject(Error("Iframe api request of type "+b.getType()+" timed out after "+(Ea()-c)+"ms."))},ma(void 0)?void 0:3E4);We(f.C,function(){e.port1.close();
jm(h)});return f.C}.bind(a))}Pme.prototype.O=function(a){(a=a.ke())&&a.origin==this.L&&a.source==this.C.contentWindow&&!this.D&&(a.ports&&a.ports.length&&a.ports[0]&&(a=a.ports[0],vb(this,a.close,a),this.F.resolve(a),this.D=!0),A(this.La))};Pme.prototype.Ha=function(){this.bb.sf(this.C);Pme.oa.Ha.call(this)};function Qme(a){this.response=a.data?new Bme(a.data):null;this.port=a.ports&&a.ports.length&&a.ports[0]?a.ports[0]:null};function Rme(a,b,c,d,e,f,h,k,l,m){var q=this;y.call(this);var t=H();this.F=jh(t,"docs-offline-lsuid");this.J=new NNa;this.C=new Hr(this.J,Sr());this.xa(this.C);this.C.connect();this.H=h;this.Xa=b;var v=I(t,"docs-offline-eeooip");if(v||I(t,"docs-offline-eraoi")||I(t,"docs-offline-eiid")){var z=new ime(a,this.C,e.C);this.xa(z);z.init()}v&&(b=new ame(a,b,c,d,h,l,m),this.xa(b),b.init());this.D=new qle;this.xa(this.D);var B=I(t,"docs-offline-eiedp")&&(!I(t,"docs-isd")||I(t,"docs-offline-esdp")),L=I(t,
"docs-offline-eiecr");Sme(this,B,L).then(function(b){if(b){b=Oya("/iframeapi",void 0);b=new Pme(q.F,b,1);q.xa(b);var c=new ome(a,b,q.D,q.F,!1,L,!1);q.xa(c);c.start();if(B){var d=new lle(e.F,b,q.C,q.Xa);q.xa(d);d.start();b=new ule(e,f,b,d,q.D,k,c,q.Xa,l,a);q.xa(b);b.init()}}})}w(Rme,y);function Sme(a,b,c){return b?Se(!0):c?(b=new ele(a.Xa,a.C,a.H,"EditorOfflineControllerLockSessionId"),a.xa(b),(new Rle(b,a.Xa)).get().then(function(a){return 5==a.C})):Se(!1)};function Tme(){y.call(this)}w(Tme,oE);Tme.prototype.C=function(a,b,c,d,e,f,h,k,l){return new Rme(a,b,c,!0,d,e,f,h,k,l)};uE("offline",Tme);
